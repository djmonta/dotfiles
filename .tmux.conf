# Set the prefix to C-t.
unbind C-b
set-option -g prefix C-t

# 256色ターミナル
# set-option -g default-terminal "screen-256color"
set-option -g default-terminal "xterm-256color"

# prefix key + r 再読み込み
bind r source-file ~/.tmux.conf\; display-message "Reload Config!!"

# tmux-powerline
set-option -g status on
set-option -g status-interval 2
set-option -g status-utf8 on
set-option -g status-justify "centre"
set-option -g status-left-length 100
set-option -g status-right-length 120
set-option -g status-left "#(~/dotfiles/.tmux/tmux-powerline/powerline.sh left)"
set-option -g status-right "#(~/dotfiles/.tmux/tmux-powerline/powerline.sh right)"

set -g status-bg colour235
set-window-option -g window-status-current-format "#[fg=colour235, bg=colour27]⮀#[fg=colour255, bg=colour27] #I ⮁ #W #[fg=colour27, bg=colour235]⮀"

# 直前のウィンドウ
bind C-t last-window

bind 1 break-pane
# ペインの縦分割
bind 2 split-window -v
# ペインの横分割
bind 3 split-window -h

# prefix C-(h.j.k.l) で分割ペインを伸張する。
bind -r C-h resize-pane -L 6 
bind -r C-l resize-pane -R 6
bind -r C-j resize-pane -D 6
bind -r C-k resize-pane -U 6
bind -r s swap-pane -U

# クリップボードを使う
# - C-t C-[ でコピーモードに入る。
# - C-SPCで選択開始
# - C-wでバッファにコピー
# - C-t C-qでクリップボードにコピー
set-option -g default-command "reattach-to-user-namespace -l zsh"
bind C-q run-shell 'reattach-to-user-namespace tmux-pbcopy'

# マウスを使う
set-window-option -g mode-mouse on

#### COLOUR (Solarized 256)
#### cf: https://github.com/altercation/solarized/blob/master/tmux/tmuxcolors-256.conf
# default statusbar colors
set-option -g status-bg colour235 #base02
set-option -g status-fg colour136 #yellow
set-option -g status-attr default

# default window title colors
set-window-option -g window-status-fg colour244 #base0
set-window-option -g window-status-bg default
#set-window-option -g window-status-attr dim

# active window title colors
set-window-option -g window-status-current-fg colour166 #orange
set-window-option -g window-status-current-bg default
#set-window-option -g window-status-current-attr bright

# pane border
set-option -g pane-border-fg colour235 #base02
set-option -g pane-active-border-fg colour240 #base01

# message text
set-option -g message-bg colour235 #base02
set-option -g message-fg colour166 #orange

# pane number display
set-option -g display-panes-active-colour colour33 #blue
set-option -g display-panes-colour colour166 #orange

# clock
set-window-option -g clock-mode-colour colour64 #green

# マウスを使う
# tmux+iTerm2でマウス(タッチパッド)利用時にマウスによるコピペができない問題の対処 #tmux #iTerm2 - Qiita <http://qiita.com/items/9a680d16065217015e16>
# bind m \
#   set -g mode-mouse on \;\
#   set -g mouse-resize-pane on \;\
#   set -g mouse-select-pane on \;\
#   set -g mouse-select-window on \;\
#   display 'Mouse: ON'

# Toggle mouse off with ^B M
# bind M \
#   set -g mode-mouse off \;\
#   set -g mouse-resize-pane off \;\
#   set -g mouse-select-pane off \;\
#   set -g mouse-select-window off \;\
#   display 'Mouse: OFF'

# 翻訳
# http://blog.takapra.com/index.php/2013/01/10/tmux_moment_pane/
# Ctrl-t a => alcの単語検索
# Ctrl-t m => manページを開く
# Ctrl-t g => google翻訳 （英語から日本語）
# Ctrl-t G => google翻訳 （日本語から英語）

# 一時ペインでコマンドを実行する
# bind-key a command-prompt -p "Alc:" "split-window 'source ~/dotfiles/bin/alc %%'"
# bind-key C-m command-prompt -p "Man:" "split-window 'man %%'"
# bind-key g command-prompt -p "Google Translate en->ja:" "split-window 'source ~/dotfiles/bin/gej %%'"
# bind-key G command-prompt -p "Google Translate ja->en:" "split-window 'source ~/dotfiles/bin/gtj %%'"

